(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,n){e.exports=n(95)},44:function(e,t,n){e.exports=n(97)},92:function(e,t){},95:function(e,t){e.exports={MONGO_URI:Object({NODE_ENV:"production",PUBLIC_URL:""}).MONGO_URI,HOST_URI:Object({NODE_ENV:"production",PUBLIC_URL:""}).HOST_URI}},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(41),c=n.n(l),o=n(10),i=n(11),s=n(2),u=n(3),d=n(5),m=n(4),h=n(6),p=n(7),E=n.n(p),f=n(42),g=n.n(f),v=n(43),C=function(e){var t=e.label,n=e.type,a=e.name,l=e.placeholder,c=e.value,o=e.handleInputChange,i=e.error;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,t),r.a.createElement("input",{type:n,name:a,className:"form-input".concat(i?" input-error":""),placeholder:l,value:c,onChange:o}),i&&r.a.createElement("div",{className:"error-msg"},i))},w=function(e){e.placeholder;var t=e.value,n=e.handleInputChange,a=e.name,l=e.error;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Number of Children:"),r.a.createElement("select",{value:t,onChange:n,name:a,className:"form-input".concat(l?" input-error":"")},function(){for(var e=[r.a.createElement("option",{value:"",disabled:!0,key:"opt-0"},"Select an option")],t=1;t<=15;t++)e.push(r.a.createElement("option",{key:"opt-".concat(t),value:t},t));return e}()),l&&r.a.createElement("div",{className:"error-msg"},l))},b={times:{path:"M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z",viewBox:"0 0 320 512"},plus:{path:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",viewBox:"0 0 448 512"},pencil:{path:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z",viewBox:"0 0 576 512"},trash:{path:"M296 432h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8zm-160 0h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8zM440 64H336l-33.6-44.8A48 48 0 0 0 264 0h-80a48 48 0 0 0-38.4 19.2L112 64H8a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h24v368a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V96h24a8 8 0 0 0 8-8V72a8 8 0 0 0-8-8zM171.2 38.4A16.1 16.1 0 0 1 184 32h80a16.1 16.1 0 0 1 12.8 6.4L296 64H152zM384 464a16 16 0 0 1-16 16H80a16 16 0 0 1-16-16V96h320zm-168-32h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8z",viewBox:"0 0 448 512"},angle:{path:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z",viewBox:"0 0 256 512"},search:{path:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",viewBox:"0 0 512 512"},check:{path:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z",viewBox:"0 0 512 512"},carot:{path:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z",viewBox:"0 0 320 512"},alphaDown:{path:"M400.7 427.1h-61.1c.7-1 1.5-2 2.3-3.1l67.5-95.7c1.4-2 2.2-4.4 2.2-6.9V300c0-6.6-5.4-12-12-12H274.5c-6.6 0-12 5.4-12 12v28.9c0 6.6 5.4 12 12 12H331c-.7 1-1.5 2-2.3 3.1l-67.2 95.2c-1.4 2-2.2 4.4-2.2 6.9V468c0 6.6 5.4 12 12 12h129.4c6.6 0 12-5.4 12-12v-28.9c0-6.7-5.4-12-12-12zM176 368h-48V48c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16v320H16c-14.2 0-21.4 17.2-11.3 27.3l80 80c6.2 6.2 16.4 6.2 22.6 0l80-80c10-10 2.9-27.3-11.3-27.3zm248.2-159.9l-57.1-168c-1.7-4.9-6.2-8.1-11.4-8.1h-39.6c-5.1 0-9.7 3.3-11.4 8.1l-57.1 168c-2.6 7.8 3.1 15.9 11.4 15.9h35.7c5.4 0 10.1-3.5 11.5-8.7l8.1-28.2h42.9l8.3 28.3A12 12 0 0 0 377 224h35.7c8.4 0 14.2-8.1 11.5-15.9zm-95-71.5l6.8-22.9 6.6 22.9z",viewBox:"0 0 448 512"},alphaUp:{path:"M107.3 36.7c-6.2-6.2-16.4-6.2-22.6 0l-80 80c-10 10-2.9 27.3 11.3 27.3h48v320c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V144h48c14.2 0 21.4-17.2 11.3-27.3zm293.4 390.4h-61.1c.7-1 1.5-2 2.3-3.1l67.5-95.7c1.4-2 2.2-4.4 2.2-6.9V300c0-6.6-5.4-12-12-12H274.5c-6.6 0-12 5.4-12 12v28.9c0 6.6 5.4 12 12 12H331c-.7 1-1.5 2-2.3 3.1l-67.2 95.2c-1.4 2-2.2 4.4-2.2 6.9V468c0 6.6 5.4 12 12 12h129.4c6.6 0 12-5.4 12-12v-28.9c0-6.7-5.4-12-12-12zm23.5-219l-57.1-168c-1.7-4.9-6.2-8.1-11.4-8.1h-39.6c-5.1 0-9.7 3.3-11.4 8.1l-57.1 168c-2.6 7.8 3.1 15.9 11.4 15.9h35.7c5.4 0 10.1-3.5 11.5-8.7l8.1-28.2h42.9l8.3 28.3A12 12 0 0 0 377 224h35.7c8.4 0 14.2-8.1 11.5-15.9zm-95-71.5l6.8-22.9 6.6 22.9z",viewBox:"0 0 448 512"},timeUp:{path:"M308.811 113.787l-19.448-20.795c-4.522-4.836-4.274-12.421.556-16.95l43.443-40.741a11.999 11.999 0 0 1 8.209-3.247h31.591c6.627 0 12 5.373 12 12v127.07h25.66c6.627 0 12 5.373 12 12v28.93c0 6.627-5.373 12-12 12H301.649c-6.627 0-12-5.373-12-12v-28.93c0-6.627 5.373-12 12-12h25.414v-57.938c-7.254 6.58-14.211 4.921-18.252.601zm-30.57 238.569c0-32.653 23.865-67.356 68.094-67.356 38.253 0 79.424 28.861 79.424 92.228 0 51.276-32.237 105.772-91.983 105.772-17.836 0-30.546-3.557-38.548-6.781-5.79-2.333-8.789-8.746-6.922-14.703l9.237-29.48c2.035-6.496 9.049-9.983 15.467-7.716 13.029 4.602 27.878 5.275 38.103-4.138-38.742 5.072-72.872-25.36-72.872-67.826zm92.273 19.338c0-22.285-15.302-36.505-25.835-36.505-8.642 0-13.164 7.965-13.164 15.832 0 5.669 1.815 24.168 25.168 24.168 9.973 0 13.377-2.154 13.744-2.731.021-.046.087-.291.087-.764zM16.016 144H64v320c0 8.837 7.163 16 16 16h32c8.837 0 16-7.163 16-16V144h47.981c14.212 0 21.384-17.244 11.314-27.314l-79.981-80.002c-6.245-6.245-16.38-6.247-22.627 0L4.702 116.686C-5.347 126.736 1.775 144 16.016 144z",viewBox:"0 0 448 512"},timeDown:{path:"M308.811 113.787l-19.448-20.795c-4.522-4.836-4.274-12.421.556-16.95l43.443-40.741a11.999 11.999 0 0 1 8.209-3.247h31.591c6.627 0 12 5.373 12 12v127.07h25.66c6.627 0 12 5.373 12 12v28.93c0 6.627-5.373 12-12 12H301.649c-6.627 0-12-5.373-12-12v-28.93c0-6.627 5.373-12 12-12h25.414v-57.938c-7.254 6.58-14.211 4.921-18.252.601zm-30.57 238.569c0-32.653 23.865-67.356 68.094-67.356 38.253 0 79.424 28.861 79.424 92.228 0 51.276-32.237 105.772-91.983 105.772-17.836 0-30.546-3.557-38.548-6.781-5.79-2.333-8.789-8.746-6.922-14.703l9.237-29.48c2.035-6.496 9.049-9.983 15.467-7.716 13.029 4.602 27.878 5.275 38.103-4.138-38.742 5.072-72.872-25.36-72.872-67.826zm92.273 19.338c0-22.285-15.302-36.505-25.835-36.505-8.642 0-13.164 7.965-13.164 15.832 0 5.669 1.815 24.168 25.168 24.168 9.973 0 13.377-2.154 13.744-2.731.021-.046.087-.291.087-.764zM175.984 368H128V48c0-8.837-7.163-16-16-16H80c-8.837 0-16 7.163-16 16v320H16.019c-14.212 0-21.384 17.244-11.314 27.314l79.981 80.002c6.245 6.245 16.38 6.247 22.627 0l79.984-80.002c10.05-10.05 2.928-27.314-11.313-27.314z",viewBox:"0 0 448 512"}},y=function(e){var t=e.icon,n=e.style;return r.a.createElement("svg",{"aria-hidden":"true",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:b[t].viewBox,style:n},r.a.createElement("path",{d:b[t].path}))},B=function(e){var t=e.sortToggle,n=e.sortSelection,l=e.handleSortToggle,c=e.handleSortSelection,o=e.handleFilterInput;e.handleFilterClear;return r.a.createElement(a.Fragment,null,r.a.createElement("h5",null,"FILTER AND SORT FACTORIES"),r.a.createElement("section",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Filter Factories:"),r.a.createElement("input",{className:"form-input search",placeholder:"Type to filter factories by name",onChange:o}),r.a.createElement("button",{className:"input-btn right"},r.a.createElement(y,{icon:"search",style:{width:16}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Sort Factories By:"),r.a.createElement("div",{className:"sort-container"},r.a.createElement("div",{className:"form-input sort-select",onClick:function(){return l()}},function(e){switch(e){case"timeDown":return r.a.createElement("div",null,r.a.createElement(y,{icon:"timeDown",style:{width:14}})," Create Date (Descending)");case"timeUp":return r.a.createElement("div",null,r.a.createElement(y,{icon:"timeDown",style:{width:14}})," Create Date (Ascending)");case"alphaDown":return r.a.createElement("div",null,r.a.createElement(y,{icon:"alphaDown",style:{width:14}})," Factory Name (Descending)");case"alphaUp":return r.a.createElement("div",null,r.a.createElement(y,{icon:"alphaUp",style:{width:14}})," Factory Name (Ascending)");default:return r.a.createElement("div",null,r.a.createElement(y,{icon:"timeDown",style:{width:14}})," Create Date (Descending)")}}(n),r.a.createElement("div",{style:{color:"#666",fill:"currentColor"}},r.a.createElement(y,{icon:"carot",style:{width:11,verticalAlign:"middle"}}))),r.a.createElement("ul",{className:"sort-list",style:{display:t?"block":"none"}},r.a.createElement("li",{onClick:function(){return c("timeDown")}},r.a.createElement(y,{icon:"timeDown",style:{width:14}})," Create Date (Descending)"),r.a.createElement("li",{onClick:function(){return c("timeUp")}},r.a.createElement(y,{icon:"timeUp",style:{width:14}})," Create Date (Ascending)"),r.a.createElement("li",{onClick:function(){return c("alphaDown")}},r.a.createElement(y,{icon:"alphaDown",style:{width:14}})," Factory Name (Descending)"),r.a.createElement("li",{onClick:function(){return c("alphaUp")}},r.a.createElement(y,{icon:"alphaUp",style:{width:14}})," Factory Name (Ascending)"))))))},S=function(e){return e?null:"This is a required field"},N=function(e){return/^\d+$/.test(e)&&parseInt(e)>=0?null:"Please enter a positive integer"},F=function(e,t){return parseInt(e)>=parseInt(t)?"Upper bound must be greater than lower bound":null},O=function(e,t){return e.createdAt>t.createdAt?-1:e.createdAt<t.createdAt?1:0},I=function(e,t){return e.createdAt<t.createdAt?-1:e.createdAt>t.createdAt?1:0},L=function(e,t){return e.name<t.name?-1:e.name>t.name?1:0},T=function(e,t){return e.name>t.name?-1:e.name<t.name?1:0},D=function(e,t){var n=Object(i.a)(e);switch(t){case"timeDown":return n.sort(O);case"timeUp":return n.sort(I);case"alphaDown":return n.sort(L);case"alphaUp":return n.sort(T);default:return n}},A=function(e){var t=e.name,n=e.generateChildren,a=e.lowerBound,r=e.upperBound,l=e.numChildren,c={};return c.name=S(t),n?(c.lowerBound=S(a)||N(a),c.upperBound=S(r)||N(r)||F(a,r),c.numChildren=S(l)):(c.lowerBound=null,c.upperBound=null,c.numChildren=null),c},k=function(e){var t=e.lowerBound,n=e.upperBound,a=e.numChildren,r={};return r.lowerBound=S(t)||N(t),r.upperBound=S(n)||N(n)||F(t,n),r.numChildren=S(a),r},U=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",lowerBound:"",upperBound:"",numChildren:"",generateChildren:!1,submitting:!1,hasFormError:!1,formErrors:{name:null,lowerBound:null,upperBound:null,numChildren:null}},n.handleCheckBoxClick=function(){n.setState({generateChildren:!n.state.generateChildren})},n.handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.state.hasFormError?n.setState(Object(o.a)({},r,a),function(){n.setState({formErrors:A(n.getFormValues())})}):n.setState(Object(o.a)({},r,a))},n.getFormValues=function(){var e=n.state;return{name:e.name,generateChildren:e.generateChildren,lowerBound:e.lowerBound,upperBound:e.upperBound,numChildren:e.numChildren}},n.resetFormValues=function(){n.setState({name:"",lowerBound:"",upperBound:"",numChildren:"",generateChildren:!1,submitting:!1})},n.handleSubmit=function(e){e.preventDefault(),n.setState({submitting:!0});var t=n.getFormValues(),a=A(t),r=!1;Object.keys(a).forEach(function(e){a[e]&&(r=!0)}),r?n.setState({formErrors:a,submitting:!1,hasFormError:!0}):(n.setState({formErrors:a}),E.a.post("/api/create-factory",t).then(function(e){if(201!==e.status)throw Error("Bad request");n.resetFormValues()}).catch(function(e){console.log(e),n.resetFormValues()}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.sortToggle,l=t.sortSelection,c=t.handleSortToggle,o=t.handleSortSelection,i=t.handleFilterInput,s=t.handleFilterClear;return r.a.createElement(a.Fragment,null,r.a.createElement("h5",null,"CREATE A NEW FACTORY"),r.a.createElement("section",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(C,{type:"text",name:"name",label:"Name:",placeholder:"Enter a factory name",value:this.state.name,handleInputChange:this.handleInputChange,error:this.state.formErrors.name}),r.a.createElement("div",{style:{paddingBottom:10}},r.a.createElement("div",{className:"checkbox".concat(this.state.generateChildren?" active":""),onClick:function(){return e.handleCheckBoxClick()}},r.a.createElement(y,{icon:"check",style:{width:12,height:12}})),r.a.createElement("span",{style:{fontSize:14}},"Generate Children?")),r.a.createElement("div",{style:{borderTop:"1px solid #ddd",display:this.state.generateChildren?"block":"none"}},r.a.createElement(C,{type:"tel",name:"lowerBound",label:"Lower Bound:",placeholder:"Enter a positive integer",value:this.state.lowerBound,handleInputChange:this.handleInputChange,error:this.state.formErrors.lowerBound}),r.a.createElement(C,{type:"tel",name:"upperBound",label:"Upper Bound:",placeholder:"Enter a positive integer",value:this.state.upperBound,handleInputChange:this.handleInputChange,error:this.state.formErrors.upperBound}),r.a.createElement(w,{name:"numChildren",value:this.state.numChildren,handleInputChange:this.handleInputChange,error:this.state.formErrors.numChildren})),r.a.createElement("div",{className:"text-right form-group"},r.a.createElement("button",{disabled:this.state.submitting,className:"btn btn-green".concat(this.state.submitting?" disabled":"")},"CREATE FACTORY")))),r.a.createElement(B,{sortToggle:n,sortSelection:l,handleSortToggle:c,handleSortSelection:o,handleFilterInput:i,handleFilterClear:s}))}}]),t}(a.Component),j=function(e){var t=e.sortToggle,n=e.sortSelection,a=e.handleSortToggle,l=e.handleSortSelection,c=e.handleFilterInput,o=e.handleFilterClear;return r.a.createElement("div",{className:"main-col tree-actions"},r.a.createElement("div",{className:"column-container"},r.a.createElement("header",{className:"h-1"},"TREE ACTIONS"),r.a.createElement(U,{sortToggle:t,sortSelection:n,handleSortToggle:a,handleSortSelection:l,handleFilterInput:c,handleFilterClear:o})))},z=function(e){e.msg,e.style;var t=r.a.createElement("svg",{style:{width:40},"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},r.a.createElement("path",{fill:"currentColor",d:"M378.31 378.49L298.42 288h30.63c9.01 0 16.98-5 20.78-13.06 3.8-8.04 2.55-17.26-3.28-24.05L268.42 160h28.89c9.1 0 17.3-5.35 20.86-13.61 3.52-8.13 1.86-17.59-4.24-24.08L203.66 4.83c-6.03-6.45-17.28-6.45-23.32 0L70.06 122.31c-6.1 6.49-7.75 15.95-4.24 24.08C69.38 154.65 77.59 160 86.69 160h28.89l-78.14 90.91c-5.81 6.78-7.06 15.99-3.27 24.04C37.97 283 45.93 288 54.95 288h30.63L5.69 378.49c-6 6.79-7.36 16.09-3.56 24.26 3.75 8.05 12 13.25 21.01 13.25H160v24.45l-30.29 48.4c-5.32 10.64 2.42 23.16 14.31 23.16h95.96c11.89 0 19.63-12.52 14.31-23.16L224 440.45V416h136.86c9.01 0 17.26-5.2 21.01-13.25 3.8-8.17 2.44-17.47-3.56-24.26z"}));return r.a.createElement("div",{className:"loading-container p-10 text-center"},r.a.createElement("div",null,t),r.a.createElement("div",null,t),r.a.createElement("div",null,t),r.a.createElement("p",{style:{marginTop:10,color:"#555"}},"Loading..."))},V=function(e){function t(){var e,n;Object(s.a)(this,t);for(var l=arguments.length,c=new Array(l),o=0;o<l;o++)c[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1},n.handleEditClick=function(){n.props.handleFactorySelection(n.props.factory)},n.handleHeaderClick=function(){n.setState({open:!n.state.open})},n.renderChildrenContent=function(){var e=n.props.factory,t=e._id,l=e.lowerBound,c=e.upperBound,o=e.numChildren,i=e.children;return i?r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"children-info"},r.a.createElement("span",null,"Children: ",r.a.createElement("strong",null,o)),r.a.createElement("span",null,"Lower Bound: ",r.a.createElement("strong",null,l)),r.a.createElement("span",null,"Upper Bound: ",r.a.createElement("strong",null,c))),r.a.createElement("ul",null,i.map(function(e,n){return r.a.createElement("li",{key:"".concat(t,"-child-").concat(n)},r.a.createElement(y,{icon:"angle",style:{width:5}})," ",e)}))):r.a.createElement("div",{className:"no-content"},"No children to show")},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"factory-container".concat(this.state.open?" open":"").concat(this.props.selected?" selected":"")},r.a.createElement("div",{className:"factory-header"},r.a.createElement("div",{className:"header-info",onClick:function(){return e.handleHeaderClick()}},r.a.createElement("span",{className:"angle"},r.a.createElement(y,{icon:"angle"})),r.a.createElement("span",null,this.props.factory.name)),r.a.createElement("button",{onClick:function(){return e.handleEditClick()},className:"edit-btn"},r.a.createElement(y,{icon:"pencil",style:{width:20}}))),r.a.createElement("div",{className:"factory-children-container"},this.renderChildrenContent()))}}]),t}(a.Component),x=function(e){function t(){var e,n;Object(s.a)(this,t);for(var l=arguments.length,c=new Array(l),o=0;o<l;o++)c[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={open:!0},n.handleHeaderClick=function(){n.setState({open:!n.state.open})},n.renderContent=function(){return n.props.dataLoadingError?r.a.createElement("p",{className:"p-10 text-center"},"An error occurred. Please try again later."):n.props.factories?r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"root"},r.a.createElement("div",{className:"header-info",onClick:function(){return n.handleHeaderClick()}},r.a.createElement("span",{className:"angle"},r.a.createElement(y,{icon:"angle"})),r.a.createElement("span",null,"ROOT"))),r.a.createElement("div",{className:"all-factories"},n.renderFactories())):r.a.createElement(z,null)},n.renderFactories=function(){var e=n.props,t=e.selectedFactory,a=e.factories,l=e.filterInput;if(l){var c=new RegExp(l,"gi");a=a.filter(function(e){return c.test(e.name)})}return a.map(function(e){return r.a.createElement(V,{key:e._id,factory:e,selected:t&&t._id===e._id,handleFactorySelection:n.props.handleFactorySelection})})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-col tree"},r.a.createElement("div",{className:"column-container tree-container".concat(this.state.open?" open":"")},r.a.createElement("header",{className:"h-2"},"TREE"),this.renderContent()))}}]),t}(a.Component),H=function(e){var t=e.handleSubmit,n=e.editName,l=e.handleInputChange,c=e.disabled;return r.a.createElement(a.Fragment,null,r.a.createElement("h5",null,"EDIT FACTORY NAME"),r.a.createElement("section",null,r.a.createElement("form",{onSubmit:function(e){return t("name",e)}},r.a.createElement(C,{label:"Name:",placeholder:"Enter a factory name",name:"editName",value:n,handleInputChange:l}),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{type:"submit",disabled:c,className:"btn btn-green".concat(c?" disabled":"")},"UPDATE NAME")))))},R=function(e){var t=e.handleSubmit,n=e.handleInputChange,l=e.editLowerBound,c=e.editUpperBound,o=e.editNumChildren,i=e.disabled,s=e.formErrors;return r.a.createElement(a.Fragment,null,r.a.createElement("h5",null,"EDIT FACTORY CHILDREN"),r.a.createElement("section",null,r.a.createElement("form",{onSubmit:function(e){return t("children",e)}},r.a.createElement(C,{label:"Lower Bound:",placeholder:"Enter a positive integer",name:"editLowerBound",value:l,handleInputChange:n,error:s.lowerBound}),r.a.createElement(C,{label:"Upper Bound:",placeholder:"Enter a positive integer",name:"editUpperBound",value:c,handleInputChange:n,error:s.upperBound}),r.a.createElement(w,{name:"editNumChildren",value:o,handleInputChange:n,error:s.numChildren}),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{type:"submit",disabled:i,className:"btn btn-green".concat(i?" disabled":"")},"UPDATE CHILDREN")))))},M=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).renderContent=function(){var e=n.props,t=e.selectedFactory,a=e.handleSubmit,l=e.handleInputChange,c=e.handleCancel,o=e.editName,i=e.editLowerBound,s=e.editUpperBound,u=e.editNumChildren,d=e.formErrors;return r.a.createElement("div",null,r.a.createElement("div",{className:"selection-container"},r.a.createElement("div",null,r.a.createElement("strong",null,"Selected Factory:")," ",t.name),r.a.createElement("button",{className:"btn cancel-selection",onClick:function(){return c()}},r.a.createElement(y,{icon:"times",style:{width:14}}))),r.a.createElement(H,{editName:o,handleSubmit:a,handleInputChange:l,disabled:!o||t.name===o}),r.a.createElement(R,{editLowerBound:i,editUpperBound:s,editNumChildren:u,disabled:n.isDisabled(),handleSubmit:a,handleInputChange:l,formErrors:d}),r.a.createElement("div",{className:"delete-btn-container"},r.a.createElement("button",{className:"btn btn-yellow",onClick:function(){return n.handleDelete(t._id)}},r.a.createElement(y,{icon:"trash",style:{width:14,height:16,verticalAlign:"text-bottom",marginRight:5}}),r.a.createElement("span",null,"DELETE FACTORY"))))},n.handleDelete=function(e){window.confirm("Deleting a factory cannot be undone. Continue?")&&E.a.delete("/api/delete-factory/".concat(e))},n.isDisabled=function(){var e=n.props,t=e.editLowerBound,a=e.editUpperBound,r=e.editNumChildren,l=e.selectedFactory,c=l.lowerBound,o=l.upperBound,i=l.numChildren;return c==t&&o==a&&i==r},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-col edit-factory"},r.a.createElement("div",{className:"column-container"},r.a.createElement("header",{className:"h-3"},"EDIT FACTORY"),this.props.selectedFactory&&this.renderContent()))}}]),t}(a.Component),_=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={selectedFactory:null,sortSelection:"timeDown",filterInput:"",sortToggle:!1,editName:"",editLowerBound:"",editUpperBound:"",editNumChildren:"",factories:null,dataLoadingError:!1,hasFormError:!1,formErrors:{lowerBound:null,upperBound:null,numChildren:null}},n.factoryAdded=function(e){var t=Object(i.a)(n.state.factories);t.push(e),n.setState({factories:D(t,n.state.sortSelection)})},n.factoryRemoved=function(e){var t=Object(i.a)(n.state.factories).filter(function(t){return t._id!==e});n.setState({factories:t,selectedFactory:null})},n.factoryUpdated=function(e){var t=e.name,a=e.lowerBound,r=e.upperBound,l=e.numChildren,c=e._id,o=Object(i.a)(n.state.factories).map(function(t){return t._id===c?e:t});n.setState({factories:D(o,n.state.sortSelection),selectedFactory:e,name:t,lowerBound:a,upperBound:r,numChildren:l})},n.handleFactorySelection=function(e){var t=e.name,a=e.lowerBound,r=e.upperBound,l=e.numChildren;n.setState({selectedFactory:e,editName:t,editLowerBound:0===a?0:a||"",editUpperBound:0===r?0:r||"",editNumChildren:l||"",formErrors:{lowerBound:null,upperBound:null,numChildren:null}})},n.handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.state.hasFormError?n.setState(Object(o.a)({},r,a),function(){n.setState({formErrors:k(n.getFormValues())})}):n.setState(Object(o.a)({},r,a))},n.getFormValues=function(e){if("name"===e)return{name:n.state.editName};var t=n.state;return{lowerBound:t.editLowerBound,upperBound:t.editUpperBound,numChildren:t.editNumChildren}},n.handleSubmit=function(e,t){if(t.preventDefault(),"children"===e){var a=n.getFormValues(),r=k(a),l=!1;Object.keys(r).forEach(function(e){r[e]&&(l=!0)}),l?n.setState({formErrors:r,hasFormError:!0}):E.a.put("/api/update-factory/".concat(n.state.selectedFactory._id,"/").concat(e),n.getFormValues(e))}else E.a.put("/api/update-factory/".concat(n.state.selectedFactory._id,"/").concat(e),n.getFormValues(e))},n.handleCancel=function(){n.setState({selectedFactory:null})},n.handleSortToggle=function(){n.setState({sortToggle:!n.state.sortToggle})},n.handleSortSelection=function(e){n.setState({sortToggle:!1,sortSelection:e,factories:D(n.state.factories,e)})},n.handleFilterInput=function(e){n.setState({filterInput:e.target.value})},n.handleFilterClear=function(){n.setState({filterInput:""})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.a.get("/api/all-factories").then(function(t){var n=t.data;200===t.status?e.setState({factories:n}):e.setState({dataLoadingError:!0})}).catch(function(){e.setState({dataLoadingError:!0})});var t=g()(v.HOST_URI);t.on("factoryAdded",function(t){return e.factoryAdded(t)}),t.on("factoryRemoved",function(t){return e.factoryRemoved(t)}),t.on("factoryUpdated",function(t){return e.factoryUpdated(t)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"main-container".concat(this.state.selectedFactory?" editing":"")},r.a.createElement(j,{sortToggle:this.state.sortToggle,sortSelection:this.state.sortSelection,handleSortToggle:this.handleSortToggle,handleSortSelection:this.handleSortSelection,handleFilterInput:this.handleFilterInput,handleFilterClear:this.handleFilterClear}),r.a.createElement(x,{handleFactorySelection:this.handleFactorySelection,factories:this.state.factories,selectedFactory:this.state.selectedFactory,dataLoadingError:this.state.dataLoadingError,filterInput:this.state.filterInput}),r.a.createElement(M,{selectedFactory:this.state.selectedFactory,handleSubmit:this.handleSubmit,handleInputChange:this.handleInputChange,handleCancel:this.handleCancel,editName:this.state.editName,editLowerBound:this.state.editLowerBound,editUpperBound:this.state.editUpperBound,editNumChildren:this.state.editNumChildren,formErrors:this.state.formErrors}))}}]),t}(a.Component);n(96),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.9047c46d.chunk.js.map