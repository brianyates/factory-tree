(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,n){e.exports=n(96)},45:function(e,t,n){e.exports=n(98)},93:function(e,t){},96:function(e,t){e.exports={MONGO_URI:Object({NODE_ENV:"production",PUBLIC_URL:""}).MONGO_URI,HOST_URI:Object({NODE_ENV:"production",PUBLIC_URL:""}).HOST_URI}},97:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(42),o=n.n(l),c=n(3),i=n(4),s=n(7),u=n(5),d=n(6),m=n(1),h=n(8),p=n.n(h),f=n(43),E=n.n(f),b=n(44),g=n(12),v=function(e){var t=e.label,n=e.type,a=e.name,l=e.placeholder,o=e.value,c=e.handleInputChange,i=e.error;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,t),r.a.createElement("input",{min:"number"===n?"0":"",type:n,name:a,className:"form-input".concat(i?" input-error":""),placeholder:l,value:o,onChange:c}),i&&r.a.createElement("div",{className:"error-msg"},i))},C=function(e){e.placeholder;var t=e.value,n=e.handleInputChange,a=e.name,l=e.error;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Number of Children:"),r.a.createElement("select",{value:t,onChange:n,name:a,className:"form-input".concat(l?" input-error":"")},function(){for(var e=[r.a.createElement("option",{value:"",disabled:!0,key:"opt-init"},"Select an option")],t=0;t<=15;t++)e.push(r.a.createElement("option",{key:"opt-".concat(t),value:t},t));return e}()),l&&r.a.createElement("div",{className:"error-msg"},l))},y={times:{path:"M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z",viewBox:"0 0 320 512"},pencil:{path:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z",viewBox:"0 0 576 512"},trash:{path:"M296 432h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8zm-160 0h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8zM440 64H336l-33.6-44.8A48 48 0 0 0 264 0h-80a48 48 0 0 0-38.4 19.2L112 64H8a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h24v368a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V96h24a8 8 0 0 0 8-8V72a8 8 0 0 0-8-8zM171.2 38.4A16.1 16.1 0 0 1 184 32h80a16.1 16.1 0 0 1 12.8 6.4L296 64H152zM384 464a16 16 0 0 1-16 16H80a16 16 0 0 1-16-16V96h320zm-168-32h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8z",viewBox:"0 0 448 512"},angle:{path:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z",viewBox:"0 0 256 512"},search:{path:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",viewBox:"0 0 512 512"},check:{path:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z",viewBox:"0 0 512 512"},expand:{path:"M212.686 315.314L120 408l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C10.697 480 0 469.255 0 456V344c0-21.382 25.803-32.09 40.922-16.971L72 360l92.686-92.686c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.249 6.248 6.249 16.378 0 22.627zm22.628-118.628L328 104l-32.922-31.029C279.958 57.851 290.666 32 312.048 32h112C437.303 32 448 42.745 448 56v112c0 21.382-25.803 32.09-40.922 16.971L376 152l-92.686 92.686c-6.248 6.248-16.379 6.248-22.627 0l-25.373-25.373c-6.249-6.248-6.249-16.378 0-22.627z",viewBox:"0 0 448 512"},collapse:{path:"M4.686 427.314L104 328l-32.922-31.029C55.958 281.851 66.666 256 88.048 256h112C213.303 256 224 266.745 224 280v112c0 21.382-25.803 32.09-40.922 16.971L152 376l-99.314 99.314c-6.248 6.248-16.379 6.248-22.627 0L4.686 449.941c-6.248-6.248-6.248-16.379 0-22.627zM443.314 84.686L344 184l32.922 31.029c15.12 15.12 4.412 40.971-16.97 40.971h-112C234.697 256 224 245.255 224 232V120c0-21.382 25.803-32.09 40.922-16.971L296 136l99.314-99.314c6.248-6.248 16.379-6.248 22.627 0l25.373 25.373c6.248 6.248 6.248 16.379 0 22.627z",viewBox:"0 0 448 512"}},w=function(e){var t=e.icon,n=e.style;return r.a.createElement("svg",{"aria-hidden":"true",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:y[t].viewBox,style:n},r.a.createElement("path",{d:y[t].path}))},F=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={focused:!1},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.sortSelection,l=t.handleSortSelection,o=t.filterInput,c=t.handleFilterInput,i=t.handleFilterClear,s=t.toggleAllFactories;return r.a.createElement(a.Fragment,null,r.a.createElement("h5",null,"ADDITIONAL OPTIONS"),r.a.createElement("section",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Filter Factories:"),r.a.createElement("input",{className:"form-input search",placeholder:"Type to filter by name",onChange:c,value:o,onFocus:function(){return e.setState({focused:!0})},onBlur:function(){return e.setState({focused:!1})}}),r.a.createElement("button",{className:"input-btn right".concat(this.state.focused?" search-focus":""),onClick:function(){return i()}},o?r.a.createElement(w,{icon:"times",style:{width:14,margin:"0 1px"}}):r.a.createElement(w,{icon:"search",style:{width:16,height:16}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Sort Factories By:"),r.a.createElement("select",{value:n,className:"form-input",onChange:l},r.a.createElement("option",{value:"timeDown"},"Create Date (Descending)"),r.a.createElement("option",{value:"timeUp"},"Create Date (Ascending)"),r.a.createElement("option",{value:"alphaDown"},"Factory Name (Descending)"),r.a.createElement("option",{value:"alphaUp"},"Factory Name (Ascending)"))),r.a.createElement("div",{className:"toggle-btns"},r.a.createElement("button",{onClick:function(){return s(!0)}},"[+] Expand All"),r.a.createElement("button",{onClick:function(){return s(!1)}},"[-] Collapse All"))))}}]),t}(a.Component),B=n(9),N=function(e){return e||0===e?null:"This is a required field"},O=function(e){return/^\d+$/.test(e)&&parseInt(e)>=0?null:"Please enter a positive integer"},S=function(e,t){return parseInt(e)>parseInt(t)?"Upper bound must be greater than or equal to lower bound":null},j=function(e,t){return e.createdAt>t.createdAt?-1:e.createdAt<t.createdAt?1:0},I=function(e,t){return e.createdAt<t.createdAt?-1:e.createdAt>t.createdAt?1:0},A=function(e,t){return e.name<t.name?-1:e.name>t.name?1:0},L=function(e,t){return e.name>t.name?-1:e.name<t.name?1:0},T=function(e,t){var n=Object(B.a)(e);switch(t){case"timeDown":return n.sort(j);case"timeUp":return n.sort(I);case"alphaDown":return n.sort(A);case"alphaUp":return n.sort(L);default:return n}},k=function(e){var t=e.name,n=e.generateChildren,a=e.lowerBound,r=e.upperBound,l=e.numChildren,o={};return o.name=N(t),n?(o.lowerBound=N(a)||O(a),o.upperBound=N(r)||O(r)||S(a,r),o.numChildren=N(l)):(o.lowerBound=null,o.upperBound=null,o.numChildren=null),o},x=function(e){var t=e.lowerBound,n=e.upperBound,a=e.numChildren,r={};return r.lowerBound=N(t)||O(t),r.upperBound=N(n)||O(n)||S(t,n),r.numChildren=N(a),r},U=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",lowerBound:"",upperBound:"",numChildren:"",generateChildren:!1,submitting:!1,hasFormError:!1,formErrors:{name:null,lowerBound:null,upperBound:null,numChildren:null}},n.handleCheckBoxClick=function(){n.setState({generateChildren:!n.state.generateChildren})},n.handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.state.hasFormError?n.setState(Object(g.a)({},r,a),function(){n.setState({formErrors:k(n.getFormValues())})}):n.setState(Object(g.a)({},r,a))},n.getFormValues=function(){var e=n.state;return{name:e.name,generateChildren:e.generateChildren,lowerBound:e.lowerBound,upperBound:e.upperBound,numChildren:e.numChildren}},n.resetFormValues=function(){n.setState({name:"",lowerBound:"",upperBound:"",numChildren:"",generateChildren:!1,submitting:!1,hasFormError:!1})},n.handleSubmit=function(e){e.preventDefault(),n.setState({submitting:!0});var t=n.getFormValues(),a=k(t),r=!1;Object.keys(a).forEach(function(e){a[e]&&(r=!0)}),r?n.setState({formErrors:a,submitting:!1,hasFormError:!0}):(n.setState({formErrors:a}),p.a.post("/api/create-factory",t).then(function(e){if(201!==e.status)throw Error("Bad request");n.resetFormValues()}).catch(function(e){console.log(e),n.resetFormValues()}))},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.sortSelection,l=t.handleSortSelection,o=t.filterInput,c=t.handleFilterInput,i=t.handleFilterClear,s=t.toggleAllFactories;return r.a.createElement(a.Fragment,null,r.a.createElement("h5",null,"CREATE A NEW FACTORY"),r.a.createElement("section",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(v,{type:"text",name:"name",label:"Name:",placeholder:"Enter a factory name",value:this.state.name,handleInputChange:this.handleInputChange,error:this.state.formErrors.name}),r.a.createElement("div",{style:{paddingBottom:10}},r.a.createElement("div",{className:"checkbox".concat(this.state.generateChildren?" active":""),onClick:function(){return e.handleCheckBoxClick()}},r.a.createElement(w,{icon:"check",style:{width:12,height:12}})),r.a.createElement("span",{style:{fontSize:14}},"Generate Children?")),r.a.createElement("div",{style:{borderTop:"1px solid #ddd",display:this.state.generateChildren?"block":"none"}},r.a.createElement(v,{type:"number",name:"lowerBound",label:"Lower Bound:",placeholder:"Enter a positive integer",value:this.state.lowerBound,handleInputChange:this.handleInputChange,error:this.state.formErrors.lowerBound}),r.a.createElement(v,{type:"number",name:"upperBound",label:"Upper Bound:",placeholder:"Enter a positive integer",value:this.state.upperBound,handleInputChange:this.handleInputChange,error:this.state.formErrors.upperBound}),r.a.createElement(C,{name:"numChildren",value:this.state.numChildren,handleInputChange:this.handleInputChange,error:this.state.formErrors.numChildren})),r.a.createElement("div",{className:"text-right form-group"},r.a.createElement("button",{disabled:this.state.submitting,className:"btn btn-green".concat(this.state.submitting?" disabled":"")},"CREATE FACTORY")))),r.a.createElement(F,{sortSelection:n,handleSortSelection:l,filterInput:o,handleFilterInput:c,handleFilterClear:i,toggleAllFactories:s}))}}]),t}(a.Component),D=function(e){var t=e.sortSelection,n=e.handleSortSelection,a=e.filterInput,l=e.handleFilterInput,o=e.handleFilterClear,c=e.closeTreeActions,i=e.toggleAllFactories;return r.a.createElement("div",{className:"main-col tree-actions"},r.a.createElement("div",{className:"column-container"},r.a.createElement("header",{className:"h-1"},r.a.createElement("button",{type:"button",className:"close-tree-actions-btn",title:"Close Tree Actions",onClick:function(){return c()}},r.a.createElement(w,{icon:"times",style:{width:16,height:25.59}})),r.a.createElement("span",null,"TREE ACTIONS")),r.a.createElement(U,{sortSelection:t,handleSortSelection:n,filterInput:a,handleFilterInput:l,handleFilterClear:o,toggleAllFactories:i})))},R=function(e){e.msg,e.style;var t=r.a.createElement("svg",{style:{width:40},"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},r.a.createElement("path",{fill:"currentColor",d:"M378.31 378.49L298.42 288h30.63c9.01 0 16.98-5 20.78-13.06 3.8-8.04 2.55-17.26-3.28-24.05L268.42 160h28.89c9.1 0 17.3-5.35 20.86-13.61 3.52-8.13 1.86-17.59-4.24-24.08L203.66 4.83c-6.03-6.45-17.28-6.45-23.32 0L70.06 122.31c-6.1 6.49-7.75 15.95-4.24 24.08C69.38 154.65 77.59 160 86.69 160h28.89l-78.14 90.91c-5.81 6.78-7.06 15.99-3.27 24.04C37.97 283 45.93 288 54.95 288h30.63L5.69 378.49c-6 6.79-7.36 16.09-3.56 24.26 3.75 8.05 12 13.25 21.01 13.25H160v24.45l-30.29 48.4c-5.32 10.64 2.42 23.16 14.31 23.16h95.96c11.89 0 19.63-12.52 14.31-23.16L224 440.45V416h136.86c9.01 0 17.26-5.2 21.01-13.25 3.8-8.17 2.44-17.47-3.56-24.26z"}));return r.a.createElement("div",{className:"loading-container p-10 text-center"},r.a.createElement("div",null,t),r.a.createElement("div",null,t),r.a.createElement("div",null,t),r.a.createElement("p",{style:{marginTop:10,color:"#555"}},"Loading..."))},V=function(e){var t=e.factory,n=e.selected,l=e.index,o=e.handleFactorySelection,c=e.handleFactoryToggle,i=t._id,s=t.name,u=t.lowerBound,d=t.upperBound,m=t.numChildren,h=t.children,p=t.open;return r.a.createElement("div",{className:"factory-container".concat(p?" open":"").concat(n?" selected":"")},r.a.createElement("div",{className:"factory-header"},r.a.createElement("div",{className:"header-info",onClick:function(){return c(l)}},r.a.createElement("span",{className:"angle"},r.a.createElement(w,{icon:"angle"})),r.a.createElement("span",{className:"factory-name"},s)),r.a.createElement("button",{onClick:function(){return o(t)},className:"edit-btn",title:"Edit this factory"},r.a.createElement(w,{icon:"pencil"}))),r.a.createElement("div",{className:"factory-children-container"},h&&h.length>0?r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"children-info"},r.a.createElement("span",null,"Children: ",r.a.createElement("strong",null,m)),r.a.createElement("span",null,"Lower Bound: ",r.a.createElement("strong",null,u)),r.a.createElement("span",null,"Upper Bound: ",r.a.createElement("strong",null,d))),r.a.createElement("ul",null,h.map(function(e,t){return r.a.createElement("li",{key:"".concat(i,"-child-").concat(t)},r.a.createElement(w,{icon:"angle"})," ",e)}))):r.a.createElement("div",{className:"no-content"},"No children to show")))},z=function(e){function t(){var e,n;Object(c.a)(this,t);for(var l=arguments.length,o=new Array(l),i=0;i<l;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={open:!0},n.handleHeaderClick=function(){n.setState({open:!n.state.open})},n.renderContent=function(){return n.props.dataLoadingError?r.a.createElement("p",{className:"p-10 text-center"},"An error occurred. Please try again later."):n.props.factories?r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"root"},r.a.createElement("div",{className:"header-info",onClick:function(){return n.handleHeaderClick()}},r.a.createElement("span",{className:"angle"},r.a.createElement(w,{icon:"angle"})),r.a.createElement("span",null,"ROOT"))),r.a.createElement("div",{className:"all-factories"},n.renderFactories())):r.a.createElement(R,null)},n.renderFactories=function(){var e=n.props,t=e.selectedFactory,a=e.factories,l=e.filterInput;if(l){var o=new RegExp(l,"gi");a=a.filter(function(e){return o.test(e.name)})}return a.map(function(e,a){return r.a.createElement(V,{key:e._id,factory:e,index:a,selected:t&&t._id===e._id,handleFactorySelection:n.props.handleFactorySelection,handleFactoryToggle:n.props.handleFactoryToggle})})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-col tree"},r.a.createElement("div",{className:"column-container tree-container".concat(this.state.open?" open":"")},r.a.createElement("header",{className:"h-2"},r.a.createElement("button",{className:"menu-btn",title:"Open Tree Actions",onClick:function(){return e.props.openTreeActions()}},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("span",null,"TREE")),this.renderContent()))}}]),t}(a.Component),M=function(e){var t=e.handleSubmit,n=e.editName,l=e.handleInputChange,o=e.disabled;return r.a.createElement(a.Fragment,null,r.a.createElement("h5",null,"EDIT FACTORY NAME"),r.a.createElement("section",null,r.a.createElement("form",{onSubmit:function(e){return t("name",e)}},r.a.createElement(v,{label:"Name:",placeholder:"Enter a factory name",name:"editName",value:n,handleInputChange:l}),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{type:"submit",disabled:o,className:"btn btn-green".concat(o?" disabled":"")},"UPDATE NAME")))))},_=function(e){var t=e.handleSubmit,n=e.handleInputChange,l=e.editLowerBound,o=e.editUpperBound,c=e.editNumChildren,i=e.disabled,s=e.formErrors;return r.a.createElement(a.Fragment,null,r.a.createElement("h5",null,"EDIT FACTORY CHILDREN"),r.a.createElement("section",null,r.a.createElement("form",{onSubmit:function(e){return t("children",e)}},r.a.createElement(v,{type:"number",label:"Lower Bound:",placeholder:"Enter a positive integer",name:"editLowerBound",value:l,handleInputChange:n,error:s.lowerBound}),r.a.createElement(v,{type:"number",label:"Upper Bound:",placeholder:"Enter a positive integer",name:"editUpperBound",value:o,handleInputChange:n,error:s.upperBound}),r.a.createElement(C,{name:"editNumChildren",value:c,handleInputChange:n,error:s.numChildren}),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{type:"submit",disabled:i,className:"btn btn-green".concat(i?" disabled":"")},"UPDATE CHILDREN")))))},H=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).renderContent=function(){var e=n.props,t=e.selectedFactory,a=e.handleSubmit,l=e.handleInputChange,o=e.handleEditCancel,c=e.editName,i=e.editLowerBound,s=e.editUpperBound,u=e.editNumChildren,d=e.formErrors;return r.a.createElement("div",null,r.a.createElement("div",{className:"selection-container"},r.a.createElement("div",null,r.a.createElement("strong",null,"Selected Factory:")," ",t.name),r.a.createElement("button",{className:"btn cancel-selection",onClick:function(){return o()}},r.a.createElement(w,{icon:"times",style:{width:14,height:22.39}}))),r.a.createElement(M,{editName:c,handleSubmit:a,handleInputChange:l,disabled:!c||t.name===c}),r.a.createElement(_,{editLowerBound:i,editUpperBound:s,editNumChildren:u,disabled:n.isDisabled(),handleSubmit:a,handleInputChange:l,formErrors:d}),r.a.createElement("div",{className:"btn-container"},r.a.createElement("button",{className:"btn btn-yellow",onClick:function(){return n.handleDelete(t._id)}},r.a.createElement(w,{icon:"trash",style:{width:14,height:16,verticalAlign:"text-bottom",marginRight:5}}),r.a.createElement("span",null,"DELETE FACTORY"))))},n.handleDelete=function(e){window.confirm("Deleting a factory cannot be undone. Continue?")&&p.a.delete("/api/delete-factory/".concat(e))},n.isDisabled=function(){var e=n.props,t=e.editLowerBound,a=e.editUpperBound,r=e.editNumChildren,l=e.selectedFactory,o=l.lowerBound,c=l.upperBound,i=l.numChildren;return o==t&&c==a&&i==r},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-col edit-factory"},r.a.createElement("div",{className:"column-container"},r.a.createElement("header",{className:"h-3"},"EDIT FACTORY"),this.props.selectedFactory&&this.renderContent()))}}]),t}(a.Component),P=function(e){var t=Object(B.a)(this.state.factories);t[e].open=!t[e].open,this.setState({factories:t})},Y=function(e){var t=Object(B.a)(this.state.factories).map(function(t){return t.open=e,t});this.setState({factories:t})},q=function(e){var t=Object(B.a)(this.state.factories);t.push(e),this.setState({factories:T(t,this.state.sortSelection),showTreeActions:!1})},G=function(e){var t=Object(B.a)(this.state.factories).filter(function(t){return t._id!==e});this.setState({factories:t,selectedFactory:null})},W=function(e){var t=e.name,n=e.lowerBound,a=e.upperBound,r=e.numChildren,l=e._id,o=Object(B.a)(this.state.factories).map(function(t){return t._id===l?(e.open=t.open,e):t}),c=this.state.selectedFactory;c&&c._id===l&&(c=e),this.setState({factories:T(o,this.state.sortSelection),selectedFactory:c,name:t,lowerBound:n,upperBound:a,numChildren:r})},J=function(e){var t=e.name,n=e.lowerBound,a=e.upperBound,r=e.numChildren;this.setState({selectedFactory:e,editName:t,editLowerBound:0===n?0:n||"",editUpperBound:0===a?0:a||"",editNumChildren:0===r?0:r||"",formErrors:{lowerBound:null,upperBound:null,numChildren:null}})},$=function(){this.setState({selectedFactory:null})},K=function(e){var t=e.target,n=t.value,a=t.name;this.state.hasFormError?this.setState(Object(g.a)({},a,n),function(){this.setState({formErrors:x(this.getFormValues())})}):this.setState(Object(g.a)({},a,n))},Q=function(e){if("name"===e)return{name:this.state.editName};var t=this.state;return{lowerBound:t.editLowerBound,upperBound:t.editUpperBound,numChildren:t.editNumChildren}},X=function(e,t){if(t.preventDefault(),"children"===e){var n=this.getFormValues(),a=x(n),r=!1;Object.keys(a).forEach(function(e){a[e]&&(r=!0)}),r?this.setState({formErrors:a,hasFormError:!0}):p.a.put("/api/update-factory/".concat(this.state.selectedFactory._id,"/").concat(e),this.getFormValues(e))}else p.a.put("/api/update-factory/".concat(this.state.selectedFactory._id,"/").concat(e),this.getFormValues(e))},Z=function(e){var t=e.target.value;this.setState({sortSelection:t,factories:T(this.state.factories,t)})},ee=function(e){this.setState({filterInput:e.target.value})},te=function(){this.setState({filterInput:""})},ne=function(){this.setState({showTreeActions:!1})},ae=function(){this.setState({showTreeActions:!0})},re=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={factories:null,selectedFactory:null,sortSelection:"timeDown",filterInput:"",editName:"",editLowerBound:"",editUpperBound:"",editNumChildren:"",dataLoadingError:!1,hasFormError:!1,formErrors:{lowerBound:null,upperBound:null,numChildren:null},showTreeActions:!1},n.handleSortSelection=Z.bind(Object(m.a)(Object(m.a)(n))),n.handleFilterInput=ee.bind(Object(m.a)(Object(m.a)(n))),n.handleFilterClear=te.bind(Object(m.a)(Object(m.a)(n))),n.closeTreeActions=ne.bind(Object(m.a)(Object(m.a)(n))),n.toggleAllFactories=Y.bind(Object(m.a)(Object(m.a)(n))),n.handleFactorySelection=J.bind(Object(m.a)(Object(m.a)(n))),n.openTreeActions=ae.bind(Object(m.a)(Object(m.a)(n))),n.handleFactoryToggle=P.bind(Object(m.a)(Object(m.a)(n))),n.handleSubmit=X.bind(Object(m.a)(Object(m.a)(n))),n.handleInputChange=K.bind(Object(m.a)(Object(m.a)(n))),n.handleEditCancel=$.bind(Object(m.a)(Object(m.a)(n))),n.getFormValues=Q.bind(Object(m.a)(Object(m.a)(n))),n.factoryAdded=q.bind(Object(m.a)(Object(m.a)(n))),n.factoryUpdated=W.bind(Object(m.a)(Object(m.a)(n))),n.factoryRemoved=G.bind(Object(m.a)(Object(m.a)(n))),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/all-factories").then(function(t){var n=t.data;200===t.status?e.setState({factories:n.map(function(e){return e.open=!0,e})}):e.setState({dataLoadingError:!0})}).catch(function(){e.setState({dataLoadingError:!0})});var t=E()(b.HOST_URI);t.on("factoryAdded",function(t){return e.factoryAdded(t)}),t.on("factoryRemoved",function(t){return e.factoryRemoved(t)}),t.on("factoryUpdated",function(t){return e.factoryUpdated(t)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-container".concat(this.state.selectedFactory?" editing":"").concat(this.state.showTreeActions?" show-tree-actions":"")},r.a.createElement(D,{sortSelection:this.state.sortSelection,handleSortSelection:this.handleSortSelection,filterInput:this.state.filterInput,handleFilterInput:this.handleFilterInput,handleFilterClear:this.handleFilterClear,closeTreeActions:this.closeTreeActions,toggleAllFactories:this.toggleAllFactories}),r.a.createElement(z,{handleFactorySelection:this.handleFactorySelection,factories:this.state.factories,selectedFactory:this.state.selectedFactory,dataLoadingError:this.state.dataLoadingError,filterInput:this.state.filterInput,openTreeActions:this.openTreeActions,handleFactoryToggle:this.handleFactoryToggle}),r.a.createElement(H,{selectedFactory:this.state.selectedFactory,handleSubmit:this.handleSubmit,handleInputChange:this.handleInputChange,handleEditCancel:this.handleEditCancel,editName:this.state.editName,editLowerBound:this.state.editLowerBound,editUpperBound:this.state.editUpperBound,editNumChildren:this.state.editNumChildren,formErrors:this.state.formErrors}),r.a.createElement("div",{className:"edit-overlay",onClick:function(){return e.handleEditCancel()}}),r.a.createElement("div",{className:"tree-actions-overlay",onClick:function(){return e.closeTreeActions()}}))}}]),t}(a.Component);n(97),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,1,2]]]);
//# sourceMappingURL=main.23088c21.chunk.js.map