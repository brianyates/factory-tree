(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,n){e.exports=n(95)},44:function(e,t,n){e.exports=n(97)},92:function(e,t){},95:function(e,t){e.exports={MONGO_URI:Object({NODE_ENV:"production",PUBLIC_URL:""}).MONGO_URI,HOST_URI:Object({NODE_ENV:"production",PUBLIC_URL:""}).HOST_URI}},96:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(41),o=n.n(l),c=n(10),i=n(11),s=n(2),u=n(3),d=n(5),m=n(4),h=n(6),p=n(7),f=n.n(p),E=n(42),g=n.n(E),v=n(43),C=function(e){var t=e.label,n=e.type,a=e.name,l=e.placeholder,o=e.value,c=e.handleInputChange,i=e.error;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,t),r.a.createElement("input",{min:"number"===n?"0":"",type:n,name:a,className:"form-input".concat(i?" input-error":""),placeholder:l,value:o,onChange:c}),i&&r.a.createElement("div",{className:"error-msg"},i))},b=function(e){e.placeholder;var t=e.value,n=e.handleInputChange,a=e.name,l=e.error;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Number of Children:"),r.a.createElement("select",{value:t,onChange:n,name:a,className:"form-input".concat(l?" input-error":"")},function(){for(var e=[r.a.createElement("option",{value:"",disabled:!0,key:"opt-init"},"Select an option")],t=0;t<=15;t++)e.push(r.a.createElement("option",{key:"opt-".concat(t),value:t},t));return e}()),l&&r.a.createElement("div",{className:"error-msg"},l))},y={times:{path:"M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z",viewBox:"0 0 320 512"},plus:{path:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",viewBox:"0 0 448 512"},pencil:{path:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z",viewBox:"0 0 576 512"},trash:{path:"M296 432h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8zm-160 0h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8zM440 64H336l-33.6-44.8A48 48 0 0 0 264 0h-80a48 48 0 0 0-38.4 19.2L112 64H8a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h24v368a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V96h24a8 8 0 0 0 8-8V72a8 8 0 0 0-8-8zM171.2 38.4A16.1 16.1 0 0 1 184 32h80a16.1 16.1 0 0 1 12.8 6.4L296 64H152zM384 464a16 16 0 0 1-16 16H80a16 16 0 0 1-16-16V96h320zm-168-32h16a8 8 0 0 0 8-8V152a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v272a8 8 0 0 0 8 8z",viewBox:"0 0 448 512"},angle:{path:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z",viewBox:"0 0 256 512"},search:{path:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",viewBox:"0 0 512 512"},check:{path:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z",viewBox:"0 0 512 512"},subtract:{path:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",viewBox:"0 0 448 512"}},w=function(e){var t=e.icon,n=e.style;return r.a.createElement("svg",{"aria-hidden":"true",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:y[t].viewBox,style:n},r.a.createElement("path",{d:y[t].path}))},S=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={focused:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.sortSelection,l=t.handleSortSelection,o=t.filterInput,c=t.handleFilterInput,i=t.handleFilterClear;return r.a.createElement(a.Fragment,null,r.a.createElement("h5",null,"FILTER AND SORT FACTORIES"),r.a.createElement("section",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Filter Factories:"),r.a.createElement("input",{className:"form-input search",placeholder:"Type to filter by name",onChange:c,value:o,onFocus:function(){return e.setState({focused:!0})},onBlur:function(){return e.setState({focused:!1})}}),r.a.createElement("button",{className:"input-btn right".concat(this.state.focused?" search-focus":""),onClick:function(){return i()}},o?r.a.createElement(w,{icon:"times",style:{width:14,margin:"0 1px"}}):r.a.createElement(w,{icon:"search",style:{width:16}}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Sort Factories By:"),r.a.createElement("select",{value:n,className:"form-input",onChange:l},r.a.createElement("option",{value:"timeDown"},"Create Date (Descending)"),r.a.createElement("option",{value:"timeUp"},"Create Date (Descending)"),r.a.createElement("option",{value:"alphaDown"},"Factory Name (Descending)"),r.a.createElement("option",{value:"alphaUp"},"Factory Name (Ascending)")))))}}]),t}(a.Component),B=function(e){return e||0===e?null:"This is a required field"},N=function(e){return/^\d+$/.test(e)&&parseInt(e)>=0?null:"Please enter a positive integer"},F=function(e,t){return parseInt(e)>parseInt(t)?"Upper bound must be greater than or equal to lower bound":null},I=function(e,t){return e.createdAt>t.createdAt?-1:e.createdAt<t.createdAt?1:0},O=function(e,t){return e.createdAt<t.createdAt?-1:e.createdAt>t.createdAt?1:0},T=function(e,t){return e.name<t.name?-1:e.name>t.name?1:0},A=function(e,t){return e.name>t.name?-1:e.name<t.name?1:0},L=function(e,t){var n=Object(i.a)(e);switch(t){case"timeDown":return n.sort(I);case"timeUp":return n.sort(O);case"alphaDown":return n.sort(T);case"alphaUp":return n.sort(A);default:return n}},j=function(e){var t=e.name,n=e.generateChildren,a=e.lowerBound,r=e.upperBound,l=e.numChildren,o={};return o.name=B(t),n?(o.lowerBound=B(a)||N(a),o.upperBound=B(r)||N(r)||F(a,r),o.numChildren=B(l)):(o.lowerBound=null,o.upperBound=null,o.numChildren=null),o},k=function(e){var t=e.lowerBound,n=e.upperBound,a=e.numChildren,r={};return r.lowerBound=B(t)||N(t),r.upperBound=B(n)||N(n)||F(t,n),r.numChildren=B(a),r},U=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",lowerBound:"",upperBound:"",numChildren:"",generateChildren:!1,submitting:!1,hasFormError:!1,formErrors:{name:null,lowerBound:null,upperBound:null,numChildren:null}},n.handleCheckBoxClick=function(){n.setState({generateChildren:!n.state.generateChildren})},n.handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.state.hasFormError?n.setState(Object(c.a)({},r,a),function(){n.setState({formErrors:j(n.getFormValues())})}):n.setState(Object(c.a)({},r,a))},n.getFormValues=function(){var e=n.state;return{name:e.name,generateChildren:e.generateChildren,lowerBound:e.lowerBound,upperBound:e.upperBound,numChildren:e.numChildren}},n.resetFormValues=function(){n.setState({name:"",lowerBound:"",upperBound:"",numChildren:"",generateChildren:!1,submitting:!1,hasFormError:!1})},n.handleSubmit=function(e){e.preventDefault(),n.setState({submitting:!0});var t=n.getFormValues(),a=j(t),r=!1;Object.keys(a).forEach(function(e){a[e]&&(r=!0)}),r?n.setState({formErrors:a,submitting:!1,hasFormError:!0}):(n.setState({formErrors:a}),f.a.post("/api/create-factory",t).then(function(e){if(201!==e.status)throw Error("Bad request");n.resetFormValues()}).catch(function(e){console.log(e),n.resetFormValues()}))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.sortToggle,l=t.sortSelection,o=t.handleSortToggle,c=t.handleSortSelection,i=t.filterInput,s=t.handleFilterInput,u=t.handleFilterClear;return r.a.createElement(a.Fragment,null,r.a.createElement("h5",null,"CREATE A NEW FACTORY"),r.a.createElement("section",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(C,{type:"text",name:"name",label:"Name:",placeholder:"Enter a factory name",value:this.state.name,handleInputChange:this.handleInputChange,error:this.state.formErrors.name}),r.a.createElement("div",{style:{paddingBottom:10}},r.a.createElement("div",{className:"checkbox".concat(this.state.generateChildren?" active":""),onClick:function(){return e.handleCheckBoxClick()}},r.a.createElement(w,{icon:"check",style:{width:12,height:12}})),r.a.createElement("span",{style:{fontSize:14}},"Generate Children?")),r.a.createElement("div",{style:{borderTop:"1px solid #ddd",display:this.state.generateChildren?"block":"none"}},r.a.createElement(C,{type:"number",name:"lowerBound",label:"Lower Bound:",placeholder:"Enter a positive integer",value:this.state.lowerBound,handleInputChange:this.handleInputChange,error:this.state.formErrors.lowerBound}),r.a.createElement(C,{type:"number",name:"upperBound",label:"Upper Bound:",placeholder:"Enter a positive integer",value:this.state.upperBound,handleInputChange:this.handleInputChange,error:this.state.formErrors.upperBound}),r.a.createElement(b,{name:"numChildren",value:this.state.numChildren,handleInputChange:this.handleInputChange,error:this.state.formErrors.numChildren})),r.a.createElement("div",{className:"text-right form-group"},r.a.createElement("button",{disabled:this.state.submitting,className:"btn btn-green".concat(this.state.submitting?" disabled":"")},"CREATE FACTORY")))),r.a.createElement(S,{sortToggle:n,sortSelection:l,handleSortToggle:o,handleSortSelection:c,filterInput:i,handleFilterInput:s,handleFilterClear:u}))}}]),t}(a.Component),x=function(e){var t=e.sortToggle,n=e.sortSelection,a=e.handleSortToggle,l=e.handleSortSelection,o=e.filterInput,c=e.handleFilterInput,i=e.handleFilterClear,s=e.closeTreeActions;return r.a.createElement("div",{className:"main-col tree-actions"},r.a.createElement("div",{className:"column-container"},r.a.createElement("header",{className:"h-1"},r.a.createElement("button",{type:"button",className:"close-tree-actions-btn",title:"Close Tree Actions",onClick:function(){return s()}},r.a.createElement(w,{icon:"times",style:{width:16}})),r.a.createElement("span",null,"TREE ACTIONS")),r.a.createElement(U,{sortToggle:t,sortSelection:n,handleSortToggle:a,handleSortSelection:l,filterInput:o,handleFilterInput:c,handleFilterClear:i})))},D=function(e){e.msg,e.style;var t=r.a.createElement("svg",{style:{width:40},"aria-hidden":"true",focusable:"false",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},r.a.createElement("path",{fill:"currentColor",d:"M378.31 378.49L298.42 288h30.63c9.01 0 16.98-5 20.78-13.06 3.8-8.04 2.55-17.26-3.28-24.05L268.42 160h28.89c9.1 0 17.3-5.35 20.86-13.61 3.52-8.13 1.86-17.59-4.24-24.08L203.66 4.83c-6.03-6.45-17.28-6.45-23.32 0L70.06 122.31c-6.1 6.49-7.75 15.95-4.24 24.08C69.38 154.65 77.59 160 86.69 160h28.89l-78.14 90.91c-5.81 6.78-7.06 15.99-3.27 24.04C37.97 283 45.93 288 54.95 288h30.63L5.69 378.49c-6 6.79-7.36 16.09-3.56 24.26 3.75 8.05 12 13.25 21.01 13.25H160v24.45l-30.29 48.4c-5.32 10.64 2.42 23.16 14.31 23.16h95.96c11.89 0 19.63-12.52 14.31-23.16L224 440.45V416h136.86c9.01 0 17.26-5.2 21.01-13.25 3.8-8.17 2.44-17.47-3.56-24.26z"}));return r.a.createElement("div",{className:"loading-container p-10 text-center"},r.a.createElement("div",null,t),r.a.createElement("div",null,t),r.a.createElement("div",null,t),r.a.createElement("p",{style:{marginTop:10,color:"#555"}},"Loading..."))},R=function(e){function t(){var e,n;Object(s.a)(this,t);for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1},n.handleEditClick=function(){n.props.handleFactorySelection(n.props.factory)},n.handleHeaderClick=function(){n.setState({open:!n.state.open})},n.renderChildrenContent=function(){var e=n.props.factory,t=e._id,l=e.lowerBound,o=e.upperBound,c=e.numChildren,i=e.children;return i&&i.length>0?r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"children-info"},r.a.createElement("span",null,"Children: ",r.a.createElement("strong",null,c)),r.a.createElement("span",null,"Lower Bound: ",r.a.createElement("strong",null,l)),r.a.createElement("span",null,"Upper Bound: ",r.a.createElement("strong",null,o))),r.a.createElement("ul",null,i.map(function(e,n){return r.a.createElement("li",{key:"".concat(t,"-child-").concat(n)},r.a.createElement(w,{icon:"angle",style:{width:5}})," ",e)}))):r.a.createElement("div",{className:"no-content"},"No children to show")},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"factory-container".concat(this.state.open?" open":"").concat(this.props.selected?" selected":"")},r.a.createElement("div",{className:"factory-header"},r.a.createElement("div",{className:"header-info",onClick:function(){return e.handleHeaderClick()}},r.a.createElement("span",{className:"angle"},r.a.createElement(w,{icon:"angle"})),r.a.createElement("span",{className:"factory-name"},this.props.factory.name)),r.a.createElement("button",{onClick:function(){return e.handleEditClick()},className:"edit-btn"},r.a.createElement(w,{icon:"pencil",style:{width:20}}))),r.a.createElement("div",{className:"factory-children-container"},this.renderChildrenContent()))}}]),t}(a.Component),V=function(e){function t(){var e,n;Object(s.a)(this,t);for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={open:!0},n.handleHeaderClick=function(){n.setState({open:!n.state.open})},n.renderContent=function(){return n.props.dataLoadingError?r.a.createElement("p",{className:"p-10 text-center"},"An error occurred. Please try again later."):n.props.factories?r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"root"},r.a.createElement("div",{className:"header-info",onClick:function(){return n.handleHeaderClick()}},r.a.createElement("span",{className:"angle"},r.a.createElement(w,{icon:"angle"})),r.a.createElement("span",null,"ROOT"))),r.a.createElement("div",{className:"all-factories"},n.renderFactories())):r.a.createElement(D,null)},n.renderFactories=function(){var e=n.props,t=e.selectedFactory,a=e.factories,l=e.filterInput;if(l){var o=new RegExp(l,"gi");a=a.filter(function(e){return o.test(e.name)})}return a.map(function(e){return r.a.createElement(R,{key:e._id,factory:e,selected:t&&t._id===e._id,handleFactorySelection:n.props.handleFactorySelection})})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"main-col tree"},r.a.createElement("div",{className:"column-container tree-container".concat(this.state.open?" open":"")},r.a.createElement("header",{className:"h-2"},r.a.createElement("button",{className:"menu-btn",title:"Open Tree Actions",onClick:function(){return e.props.openTreeActions()}},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("span",null,"TREE")),this.renderContent()))}}]),t}(a.Component),H=function(e){var t=e.handleSubmit,n=e.editName,l=e.handleInputChange,o=e.disabled;return r.a.createElement(a.Fragment,null,r.a.createElement("h5",null,"EDIT FACTORY NAME"),r.a.createElement("section",null,r.a.createElement("form",{onSubmit:function(e){return t("name",e)}},r.a.createElement(C,{label:"Name:",placeholder:"Enter a factory name",name:"editName",value:n,handleInputChange:l}),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{type:"submit",disabled:o,className:"btn btn-green".concat(o?" disabled":"")},"UPDATE NAME")))))},M=function(e){var t=e.handleSubmit,n=e.handleInputChange,l=e.editLowerBound,o=e.editUpperBound,c=e.editNumChildren,i=e.disabled,s=e.formErrors;return r.a.createElement(a.Fragment,null,r.a.createElement("h5",null,"EDIT FACTORY CHILDREN"),r.a.createElement("section",null,r.a.createElement("form",{onSubmit:function(e){return t("children",e)}},r.a.createElement(C,{type:"number",label:"Lower Bound:",placeholder:"Enter a positive integer",name:"editLowerBound",value:l,handleInputChange:n,error:s.lowerBound}),r.a.createElement(C,{type:"number",label:"Upper Bound:",placeholder:"Enter a positive integer",name:"editUpperBound",value:o,handleInputChange:n,error:s.upperBound}),r.a.createElement(b,{name:"editNumChildren",value:c,handleInputChange:n,error:s.numChildren}),r.a.createElement("div",{className:"form-group text-right"},r.a.createElement("button",{type:"submit",disabled:i,className:"btn btn-green".concat(i?" disabled":"")},"UPDATE CHILDREN")))))},_=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).renderContent=function(){var e=n.props,t=e.selectedFactory,a=e.handleSubmit,l=e.handleInputChange,o=e.handleCancel,c=e.editName,i=e.editLowerBound,s=e.editUpperBound,u=e.editNumChildren,d=e.formErrors;return r.a.createElement("div",null,r.a.createElement("div",{className:"selection-container"},r.a.createElement("div",null,r.a.createElement("strong",null,"Selected Factory:")," ",t.name),r.a.createElement("button",{className:"btn cancel-selection",onClick:function(){return o()}},r.a.createElement(w,{icon:"times",style:{width:14}}))),r.a.createElement(H,{editName:c,handleSubmit:a,handleInputChange:l,disabled:!c||t.name===c}),r.a.createElement(M,{editLowerBound:i,editUpperBound:s,editNumChildren:u,disabled:n.isDisabled(),handleSubmit:a,handleInputChange:l,formErrors:d}),r.a.createElement("div",{className:"delete-btn-container"},r.a.createElement("button",{className:"btn btn-yellow",onClick:function(){return n.handleDelete(t._id)}},r.a.createElement(w,{icon:"trash",style:{width:14,height:16,verticalAlign:"text-bottom",marginRight:5}}),r.a.createElement("span",null,"DELETE FACTORY"))))},n.handleDelete=function(e){window.confirm("Deleting a factory cannot be undone. Continue?")&&f.a.delete("/api/delete-factory/".concat(e))},n.isDisabled=function(){var e=n.props,t=e.editLowerBound,a=e.editUpperBound,r=e.editNumChildren,l=e.selectedFactory,o=l.lowerBound,c=l.upperBound,i=l.numChildren;return o==t&&c==a&&i==r},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-col edit-factory"},r.a.createElement("div",{className:"column-container"},r.a.createElement("header",{className:"h-3"},"EDIT FACTORY"),this.props.selectedFactory&&this.renderContent()))}}]),t}(a.Component),z=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={selectedFactory:null,sortSelection:"timeDown",filterInput:"",sortToggle:!1,editName:"",editLowerBound:"",editUpperBound:"",editNumChildren:"",factories:null,dataLoadingError:!1,hasFormError:!1,formErrors:{lowerBound:null,upperBound:null,numChildren:null},showTreeActions:!1},n.factoryAdded=function(e){var t=Object(i.a)(n.state.factories);t.push(e),n.setState({factories:L(t,n.state.sortSelection),showTreeActions:!1})},n.factoryRemoved=function(e){var t=Object(i.a)(n.state.factories).filter(function(t){return t._id!==e});n.setState({factories:t,selectedFactory:null})},n.factoryUpdated=function(e){var t=e.name,a=e.lowerBound,r=e.upperBound,l=e.numChildren,o=e._id,c=Object(i.a)(n.state.factories).map(function(t){return t._id===o?e:t});n.setState({factories:L(c,n.state.sortSelection),selectedFactory:e,name:t,lowerBound:a,upperBound:r,numChildren:l})},n.handleFactorySelection=function(e){var t=e.name,a=e.lowerBound,r=e.upperBound,l=e.numChildren;n.setState({selectedFactory:e,editName:t,editLowerBound:0===a?0:a||"",editUpperBound:0===r?0:r||"",editNumChildren:0===l?0:l||"",formErrors:{lowerBound:null,upperBound:null,numChildren:null}})},n.handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.state.hasFormError?n.setState(Object(c.a)({},r,a),function(){n.setState({formErrors:k(n.getFormValues())})}):n.setState(Object(c.a)({},r,a))},n.getFormValues=function(e){if("name"===e)return{name:n.state.editName};var t=n.state;return{lowerBound:t.editLowerBound,upperBound:t.editUpperBound,numChildren:t.editNumChildren}},n.handleSubmit=function(e,t){if(t.preventDefault(),"children"===e){var a=n.getFormValues(),r=k(a),l=!1;Object.keys(r).forEach(function(e){r[e]&&(l=!0)}),l?n.setState({formErrors:r,hasFormError:!0}):f.a.put("/api/update-factory/".concat(n.state.selectedFactory._id,"/").concat(e),n.getFormValues(e))}else f.a.put("/api/update-factory/".concat(n.state.selectedFactory._id,"/").concat(e),n.getFormValues(e))},n.handleCancel=function(){n.setState({selectedFactory:null})},n.handleSortToggle=function(){n.setState({sortToggle:!n.state.sortToggle})},n.handleSortSelection=function(e){var t=e.target.value;n.setState({sortToggle:!1,sortSelection:t,factories:L(n.state.factories,t)})},n.handleFilterInput=function(e){n.setState({filterInput:e.target.value})},n.handleFilterClear=function(){n.setState({filterInput:""})},n.closeTreeActions=function(){n.setState({showTreeActions:!1})},n.openTreeActions=function(){n.setState({showTreeActions:!0})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("/api/all-factories").then(function(t){var n=t.data;200===t.status?e.setState({factories:n}):e.setState({dataLoadingError:!0})}).catch(function(){e.setState({dataLoadingError:!0})});var t=g()(v.HOST_URI);t.on("factoryAdded",function(t){return e.factoryAdded(t)}),t.on("factoryRemoved",function(t){return e.factoryRemoved(t)}),t.on("factoryUpdated",function(t){return e.factoryUpdated(t)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"main-container".concat(this.state.selectedFactory?" editing":"").concat(this.state.showTreeActions?" show-tree-actions":"")},r.a.createElement(x,{sortToggle:this.state.sortToggle,sortSelection:this.state.sortSelection,handleSortToggle:this.handleSortToggle,handleSortSelection:this.handleSortSelection,filterInput:this.state.filterInput,handleFilterInput:this.handleFilterInput,handleFilterClear:this.handleFilterClear,closeTreeActions:this.closeTreeActions}),r.a.createElement(V,{handleFactorySelection:this.handleFactorySelection,factories:this.state.factories,selectedFactory:this.state.selectedFactory,dataLoadingError:this.state.dataLoadingError,filterInput:this.state.filterInput,openTreeActions:this.openTreeActions}),r.a.createElement(_,{selectedFactory:this.state.selectedFactory,handleSubmit:this.handleSubmit,handleInputChange:this.handleInputChange,handleCancel:this.handleCancel,editName:this.state.editName,editLowerBound:this.state.editLowerBound,editUpperBound:this.state.editUpperBound,editNumChildren:this.state.editNumChildren,formErrors:this.state.formErrors}),r.a.createElement("div",{className:"edit-overlay"}),r.a.createElement("div",{className:"tree-actions-overlay"}))}}]),t}(a.Component);n(96),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.a22b1540.chunk.js.map